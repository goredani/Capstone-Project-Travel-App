var Client;(()=>{"use strict";var e={144:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,"",""]);const o=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);a&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},379:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],l=a.base?c[0]+a.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var p=n(u),f={css:c[1],media:c[2],sourceMap:c[3]};-1!==p?(t[p].references++,t[p].updater(f)):t.push({identifier:u,updater:r(f,a),references:1}),i.push(u)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=a(e,r),l=0;l<o.length;l++){var d=n(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},569:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,exports:{}};return e[a](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{n.r(a),n.d(a,{formHandler:()=>b,geoService:()=>m,getAccessUser:()=>x,getDate:()=>C,pixaBayService:()=>g,results:()=>w,weatherService:()=>y});var e=n(379),t=n.n(e),r=n(795),o=n.n(r),i=n(569),s=n.n(i),c=n(565),l=n.n(c),d=n(216),u=n.n(d),p=n(589),f=n.n(p),v=n(144),h={};h.styleTagTransform=f(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=u();t()(v.Z,h);v.Z&&v.Z.locals&&v.Z.locals;let m=async(e,t,n,a,r,o)=>{const i=await fetch(`http://api.geonames.org/postalCodeSearchJSON?placename=${e}&maxRows=1&username=${a}`);try{const e=await i.json();if(0==e.postalCodes.length)alert("Please try a different city or a different name!");else{const a=e.postalCodes[0].lat,i=e.postalCodes[0].lng,s=e.postalCodes[0].placeName;Client.getDate(a,i,s,t,n,r,o)}}catch(e){console.log("error",e),alert("Please add a city!")}};function y(e,t,n,a,r,o,i,s,c,l){new Promise((function(d,u){d((async()=>{const d=await fetch(`${a}lat=${e}&lon=${t}&key=${c}`);try{const e=(await d.json()).data[0].temp;Client.pixaBayService(n,e,r,o,i,s,l)}catch(e){console.log("error",e)}})())}))}function g(e,t,n,a,r,o,i){new Promise((function(s,c){s((async()=>{const s=await fetch(`https://pixabay.com/api/?key=${i}&q=${e}&image_type=photo&per_page=3`);try{let i=await s.json();if(0==i.hits){i={hits:[{webformatURL:"https://via.placeholder.com/640"}]};const s=i.hits[0].webformatURL;Client.results(e,t,s,n,a,r,o)}else{const s=i.hits[0].webformatURL;Client.results(e,t,s,n,a,r,o)}}catch(e){console.log("error",e)}})())}))}function w(e,t,n,a,r,o,i){const s=document.getElementById("entryHolder");let c=document.createElement("div");c.classList.add("card");let l=document.createElement("div");l.innerHTML=`<div class="text">\n                            <div class="title">${e}</div>\n                            <div><h5>Expected temperature:</h5> <p>${t} Â°C</p></div>\n                            <div><h5>Arrival date:</h5><p>${a}</p></span></div>\n                            <div><h5>Leave date:</h5> <p>${r}</p></span></div>\n                            <div><h5>Days remaining:</h5><p>${o.toFixed(0)} days</p> </div>\n                            <div><h5>You will stay for:</h5><p>${i.toFixed(0)} days</p> </div>\n                        </div>\n                        <div class="image">  \n                            <img src="${n}" alt="${e}">\n                        </div>\n                    `,l.classList.add("content"),c.appendChild(l),s.appendChild(c)}function b(e){e.preventDefault();let t=document.getElementById("destination").value,n=document.getElementById("arrivalDate").value,a=document.getElementById("leaveDate").value;Client.getAccessUser(t,n,a)}const C=(e,t,n,a,r,o,i)=>{const s=new Date(a),c=new Date(r),l=new Date;let d=Math.abs(c-s)/864e5,u=Math.abs(s-l);if(l>s)alert("It seems you're trying to travel in the past. :) Please use a date in the future!");else{let s=u/864e5;if(s>7){let c="https://api.weatherbit.io/v2.0/forecast/daily?";Client.weatherService(e,t,n,c,a,r,s,d,o,i)}else{let c="https://api.weatherbit.io/v2.0/current?";Client.weatherService(e,t,n,c,a,r,s,d,o,i)}}};function x(e,t,n){new Promise((function(a,r){a((async()=>{const a=await fetch("http://localhost:8088/geoUser"),r=await fetch("http://localhost:8088/WeatherAPIKey"),o=await fetch("http://localhost:8088/pixaBayAPIKey");try{const i=await a.text(),s=await r.text(),c=await o.text();Client.geoService(e,t,n,i,s,c)}catch(e){console.log("error",e)}})())}))}})(),Client=a})();